<template>
    <div id="main-container">
        <div style="
        background: linear-gradient(
          to right,
          rgba(221, 222, 233, 0.77) 0%,
          rgba(181, 255, 252, 0.56) 100%
        );
        user-select: none;
        z-index: -1;
      ">
            <div class="background-image-index">
                <!-- 背景图片 -->
                <el-image class="article-image my-el-image"
                    style="animation: 2s ease 0s 1 normal none running header-effect" v-once lazy :src="!common.isEmpty(store.state.webInfo.backgroundImage)
                        ? store.state.webInfo.backgroundImage
                        : store.state.webInfo.randomCover[
                        Math.floor(
                            Math.random() * store.state.webInfo.randomCover.length
                        )
                        ]
                        " fit="cover">
                    <template v-slot:error>
                        <div class="image-slot">
                            <div class="article-image"></div>
                        </div>
                    </template>
                </el-image>
                <div class="transformCenter my-animation-hideToShow">
                    <div style="display: flex">
                        <input v-model="articleSearch" placeholder="请输入搜索内容" maxlength="32" prefix-icon="el-icon-search"
                            class="ais-SearchBox-input" />
                        <div class="ais-SearchBox-submit" @click="selectArticle()">
                            <svg viewBox="0 0 1024 1024" width="20" height="20"
                                style="margin-top: 8px; margin-left: 13px">
                                <path
                                    d="M51.2 508.8c0 256.8 208 464.8 464.8 464.8s464.8-208 464.8-464.8-208-464.8-464.8-464.8-464.8 208-464.8 464.8z"
                                    fill="#51C492"></path>
                                <path
                                    d="M772.8 718.4c48-58.4 76.8-132.8 76.8-213.6 0-186.4-151.2-337.6-337.6-337.6-186.4 0-337.6 151.2-337.6 337.6 0 186.4 151.2 337.6 337.6 337.6 81.6 0 156-28.8 213.6-76.8L856 896l47.2-47.2-130.4-130.4zM512 776c-149.6 0-270.4-121.6-270.4-271.2S363.2 233.6 512 233.6c149.6 0 271.2 121.6 271.2 271.2C782.4 654.4 660.8 776 512 776z"
                                    fill="#FFFFFF"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div style="max-width: 1200px; margin: 0px auto; min-height: 80vh">
                <div class="space-sort my-animation-slide-bottom">
                    <div v-for="(sort, index) in sortList" :key="index" class="background-opacity sort-item"
                        @click="changeSort(sort.id)">
                        <div class="myCenter" style="margin-right: 10px">
                            <svg viewBox="0 0 1024 1024" width="50" height="50">
                                <path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#9AF4EF">
                                </path>
                                <path
                                    d="M20.182 654.266c166.642-6.584 692.232-32.92 995.516-50.856C1021.05 573.734 1024 543.22 1024 512c0-29.922-2.712-59.196-7.638-87.71-269.224 9.342-766.338 56.92-1015.97 103.17 1.304 43.886 8.112 86.366 19.79 126.806z"
                                    fill="#FFFFF4"></path>
                                <path
                                    d="M17.022 643.134c201.224 1.858 744.998 4.528 989.256 2.466a512.258 512.258 0 0 0 17.652-130.832C724.894 517.854 174.16 536.54 2.12 557.46c2.584 29.336 7.582 57.968 14.902 85.674z"
                                    fill="#FFFFF4"></path>
                                <path
                                    d="M301.588 298.194c0-22.45 18.2-40.648 40.648-40.648 3.388 0 6.628 0.536 9.774 1.318 10.606-11.454 25.646-18.738 42.488-18.738 32.07 0 58.068 25.998 58.068 58.068h-150.978zM257.988 156.194c0-18.884 15.308-34.192 34.192-34.192 2.85 0 5.576 0.45 8.222 1.108 8.922-9.636 21.572-15.762 35.74-15.762 26.976 0 48.846 21.87 48.846 48.846h-127zM857.02 393.006c0-14.042 11.384-25.426 25.426-25.426 2.12 0 4.146 0.336 6.114 0.824 6.634-7.164 16.042-11.72 26.578-11.72 20.06 0 36.324 16.262 36.324 36.324H857.02zM739.99 290.678c0-18.884 15.308-34.192 34.192-34.192 2.85 0 5.576 0.45 8.222 1.108 8.922-9.636 21.572-15.762 35.74-15.762 26.976 0 48.846 21.87 48.846 48.846h-127z"
                                    fill="#FFFFFF"></path>
                                <path
                                    d="M330.488 251.604c-4.888 0-9.508 0.962-13.936 2.358-14.026-20.162-37.292-33.418-63.714-33.418s-49.688 13.256-63.714 33.418c-4.428-1.396-9.048-2.358-13.936-2.358-25.732 0-46.59 20.858-46.59 46.59h248.48c0-25.73-20.86-46.59-46.59-46.59zM741.692 255.802c-3.66 0-7.118 0.72-10.432 1.766-10.498-15.092-27.916-25.016-47.694-25.016s-37.194 9.922-47.694 25.016c-3.314-1.046-6.772-1.766-10.432-1.766-19.26 0-34.874 15.614-34.874 34.874h186c0.002-19.26-15.612-34.874-34.874-34.874zM861.716 368.54c-2.568 0-4.994 0.506-7.318 1.238-7.366-10.588-19.584-17.55-33.46-17.55-13.876 0-26.094 6.962-33.46 17.55-2.326-0.734-4.752-1.238-7.318-1.238-13.512 0-24.466 10.954-24.466 24.466h130.49c-0.002-13.512-10.956-24.466-24.468-24.466zM564.484 148.404c0-24.904 20.188-45.092 45.092-45.092 3.758 0 7.352 0.594 10.842 1.462 11.766-12.706 28.448-20.786 47.132-20.786 35.576 0 64.416 28.84 64.416 64.416h-167.482z"
                                    fill="#FFFFFF"></path>
                                <path
                                    d="M3.666 572C33.386 826.474 249.546 1024 512 1024c262.456 0 478.614-197.526 508.334-452H3.666z"
                                    fill="#B0EB81"></path>
                                <path
                                    d="M614.392 259.964l-24.984-31.746c-6.832-8.68-19.986-8.68-26.818 0l-24.984 31.746-32.974 258.566h142.736l-32.976-258.566z"
                                    fill="#C4B478"></path>
                                <path
                                    d="M566.374 228.218c-0.528-0.672-1.292-0.944-1.892-1.512-0.598 0.568-1.364 0.84-1.892 1.512l-24.984 31.746-32.974 258.566h119.702l-32.976-258.566-24.984-31.746z"
                                    fill="#BCA077"></path>
                                <path d="M649.23 552.404h-146.46v-101.872a2 2 0 0 1 2-2h142.46a2 2 0 0 1 2 2v101.872z"
                                    fill="#8C665B"></path>
                                <path
                                    d="M576.002 471.716c-15.88 0-28.754 12.874-28.754 28.754v51.936h57.506v-51.936c0-15.882-12.874-28.754-28.752-28.754z"
                                    fill="#674447"></path>
                                <path
                                    d="M425.072 383.756l39.782 39.782c8.794 8.794 23.56 6.726 29.6-4.146L576 272.61l-146.782 81.546c-10.872 6.04-12.94 20.806-4.146 29.6zM726.928 383.756l-39.782 39.782c-8.794 8.794-23.56 6.726-29.6-4.146L576 272.61l146.782 81.546c10.872 6.04 12.94 20.806 4.146 29.6zM726.928 161.464l-39.782-39.782c-8.794-8.794-23.56-6.726-29.6 4.146L576 272.61l146.782-81.546c10.872-6.04 12.94-20.806 4.146-29.6zM425.072 161.464l39.782-39.782c8.794-8.794 23.56-6.726 29.6 4.146L576 272.61l-146.782-81.546c-10.872-6.04-12.94-20.806-4.146-29.6z"
                                    fill="#8C665B"></path>
                                <path
                                    d="M576 272.61m-23.034 0a23.034 23.034 0 1 0 46.068 0 23.034 23.034 0 1 0-46.068 0Z"
                                    fill="#8C665B"></path>
                                <path
                                    d="M872.016 698.194a8.77 8.77 0 0 1-8.774-8.768v-94.438a8.77 8.77 0 0 1 8.774-8.768 8.77 8.77 0 0 1 8.774 8.768v94.438a8.77 8.77 0 0 1-8.774 8.768z"
                                    fill="#674447"></path>
                                <path
                                    d="M927.276 586.944c0 30.522-24.742 55.264-55.264 55.264s-55.264-24.742-55.264-55.264c0-30.522 24.742-124.342 55.264-124.342s55.264 93.822 55.264 124.342z"
                                    fill="#43AB5F"></path>
                                <path
                                    d="M872.014 462.602c-7.662 0-14.958 5.922-21.59 15.262h0.002c27.934 0 50.58 85.87 50.58 113.806 0 24.3-17.148 44.558-39.994 49.43 3.558 0.718 7.234 1.11 11.004 1.11 30.52 0 55.264-24.742 55.264-55.262-0.004-30.526-24.746-124.346-55.266-124.346z"
                                    fill="#71BE63"></path>
                                <path
                                    d="M182.156 629.906c-4.884 0-8.84-3.006-8.84-6.712v-72.286c0-3.706 3.956-6.712 8.84-6.712s8.84 3.006 8.84 6.712v72.286c0 3.706-3.956 6.712-8.84 6.712z"
                                    fill="#674447"></path>
                                <path
                                    d="M229.774 532.162c0 36.546-21.32 54.89-47.62 54.89s-47.62-18.344-47.62-54.89 29.17-179.068 47.62-179.068 47.62 142.522 47.62 179.068z"
                                    fill="#43AB5F"></path>
                                <path
                                    d="M182.154 353.094c-3.654 0-7.73 5.65-11.916 14.9 15.05 22.794 34.524 135.418 34.524 166.7 0 30.562-13.59 47.768-31.634 51.548a52.88 52.88 0 0 0 9.028 0.808c26.3 0 47.62-18.344 47.62-54.89s-29.172-179.066-47.622-179.066z"
                                    fill="#71BE63"></path>
                                <path
                                    d="M310.016 587.5a11.464 11.464 0 0 1-11.47-11.462v-123.46a11.464 11.464 0 0 1 11.47-11.462 11.464 11.464 0 0 1 11.47 11.462v123.46a11.462 11.462 0 0 1-11.47 11.462z"
                                    fill="#674447"></path>
                                <path
                                    d="M382.26 442.062c0 39.9-32.346 72.246-72.246 72.246s-72.246-32.346-72.246-72.246 32.346-162.556 72.246-162.556 72.246 122.654 72.246 162.556z"
                                    fill="#43AB5F"></path>
                                <path
                                    d="M310.014 279.506c-10.016 0-19.554 7.742-28.226 19.952h0.002c36.52 0 66.124 112.26 66.124 148.78 0 31.766-22.418 58.252-52.286 64.622 4.65 0.94 9.458 1.45 14.384 1.45 39.9 0 72.248-32.346 72.248-72.246 0-39.904-32.346-162.558-72.246-162.558z"
                                    fill="#71BE63"></path>
                                <path
                                    d="M24.584 668.88C90.844 874.886 283.968 1024 512 1024c221.622 0 410.312-140.83 481.576-337.862C772.228 675.308 696.162 496 512 496c-240.122 0-316.168 163.582-487.416 172.88z"
                                    fill="#71BE63"></path>
                                <path
                                    d="M993.576 686.138C772.228 675.308 696.162 496 512 496c-11.372 0-22.264 0.476-32.928 1.176C682.92 511.6 776.324 748.83 926.488 812.028c27.812-38.362 50.688-80.542 67.088-125.89z"
                                    fill="#94D75B"></path>
                                <path
                                    d="M50.594 733.244C133.16 905.146 308.548 1024 512 1024c135.58 0 258.672-52.882 350.258-138.92-323.742-18.244-412.266-238.874-811.664-151.836z"
                                    fill="#43AB5F"></path>
                                <path
                                    d="M503.246 777.472c26.266 11.244 52.252 22.994 78.776 34.476 112.34-94.436 241.208-167.76 165.134-219.448l-45.028-29.562c128.04 80.976-41.874 137.546-198.882 214.534z"
                                    fill="#C4B478"></path>
                                <path
                                    d="M110.268 828.598a513.826 513.826 0 0 0 167.28 138.23c2.076-91.284 59.268-153.918 129.476-225.626-34.86-10.872-71.822-19.42-112.51-24.122-66.824 16.016-139.516 58.478-184.246 111.518z"
                                    fill="#BCA077"></path>
                                <path
                                    d="M747.156 592.5l-45.028-29.562c49.552 31.336 54.356 59.014 32.676 85.64a3465.62 3465.62 0 0 1 17.672 18.536c22.56-28.494 25.926-53.382-5.32-74.614z"
                                    fill="#CCBE84"></path>
                                <path
                                    d="M69.078 767.972C157.584 920.914 322.582 1024 512 1024c55.156 0 108.186-8.882 157.928-25.058-147.968-70.234-355.624-311.94-600.85-230.97z"
                                    fill="#3C9B61"></path>
                                <path
                                    d="M204.226 753.372c-35.972 20.136-69.214 45.922-93.878 75.14 2.654 3.37 5.4 6.66 8.134 9.96a512.606 512.606 0 0 0 19.952 22.672c2.7 2.894 5.316 5.866 8.082 8.698 4.382 4.48 8.948 8.78 13.49 13.096 2.546 2.424 5.062 4.882 7.658 7.252a511.144 511.144 0 0 0 14.94 13.038 528.26 528.26 0 0 0 6.8 5.664 517.016 517.016 0 0 0 16.85 13.2c1.516 1.136 3.066 2.232 4.594 3.352 21.084 15.398 43.34 29.292 66.698 41.386 1.51-66.376 32.23-117.602 75.836-168.186-47.428-22.958-97.218-39.962-149.156-45.272z"
                                    fill="#AD9172"></path>
                            </svg>
                        </div>
                        <div class="sort-item-sub">
                            <div class="sort-name">{{ sort.sortName }}</div>
                            <div style="
                  font-weight: bold;
                  margin-top: 10px;
                  white-space: nowrap;
                  text-overflow: ellipsis;
                  overflow: hidden;
                  color: rgb(97, 102, 109);
                ">
                                {{ sort.sortDescription }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-label my-animation-slide-bottom" v-if="Array.isArray(labels)">
                    <div v-for="(label, index) in labels" :key="index" @click="changeLabel(label.id)">
                        <!-- <span class="name">{{ label.labelName }} {{ label.countOfLabel }}</span> -->
                        <ProTag :info="label.labelName + ' ' + label.countOfLabel"
                            :class="{ isActive: pagination.labelId === label.id }" :color="constant.before_color_list[Math.floor(Math.random() * 6)]
                                " style="margin: 6px">
                        </ProTag>
                    </div>
                </div>

                <div v-show="!isShowRecommend" class="my-animation-hideToShow">
                    <div class="sort-article-first">
                        <div>
                            <svg viewBox="0 0 1024 1024" width="20" height="20"
                                style="vertical-align: -2px; margin-bottom: -2px">
                                <path
                                    d="M367.36 482.304H195.9936c-63.3344 0-114.6368-51.3536-114.6368-114.6368V196.2496c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368V367.616c0 63.3344-51.3536 114.688-114.688 114.688zM367.36 938.752H195.9936c-63.3344 0-114.6368-51.3536-114.6368-114.6368v-171.4176c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368v171.4176c0 63.3344-51.3536 114.6368-114.688 114.6368zM828.672 938.752h-171.4176c-63.3344 0-114.6368-51.3536-114.6368-114.6368v-171.4176c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368v171.4176c0 63.3344-51.3024 114.6368-114.6368 114.6368zM828.672 482.304h-171.4176c-63.3344 0-114.6368-51.3536-114.6368-114.6368V196.2496c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368V367.616c0 63.3344-51.3024 114.688-114.6368 114.688z"
                                    fill="#FF623E"></path>
                            </svg>
                            最新推荐
                        </div>
                        <div>
                            <svg viewBox="0 0 1024 1024" width="20" height="20">
                                <path
                                    d="M144.676571 607.963429a367.323429 332.068571 0 1 0 734.646858 0 367.323429 332.068571 0 1 0-734.646858 0Z"
                                    fill="#E3661C"></path>
                                <path
                                    d="M512 290.523429c194.779429 0 352.694857 142.116571 352.694857 317.44S706.779429 925.330286 512 925.330286s-352.694857-142.116571-352.694857-317.366857S317.220571 290.523429 512 290.523429m0-29.257143c-210.578286 0-381.952 155.501714-381.952 346.697143S301.421714 954.587429 512 954.587429s381.952-155.501714 381.952-346.624S722.578286 261.266286 512 261.266286z"
                                    fill="#333333"></path>
                                <path
                                    d="M512 290.523429a384.877714 384.877714 0 0 0-146.285714 28.672 297.106286 297.106286 0 0 0-77.897143 198.948571c0 175.542857 157.842286 317.44 352.621714 317.44a384.585143 384.585143 0 0 0 146.285714-28.672 297.325714 297.325714 0 0 0 77.970286-198.948571c0-175.323429-157.915429-317.44-352.694857-317.44z"
                                    fill="#F7873C"></path>
                                <path
                                    d="M498.541714 510.317714a14.628571 14.628571 0 0 1-13.165714-9.874285L446.171429 386.998857l-105.545143 55.661714a14.628571 14.628571 0 0 1-6.802286 1.682286 14.628571 14.628571 0 0 1-13.385143-20.626286l37.083429-81.92c-24.649143-4.827429-71.68-13.604571-108.690286-20.48l-59.977143-11.264-18.944-3.657142c-8.630857-1.682286-17.481143-3.437714-18.724571-14.189715a15.067429 15.067429 0 0 1 3.584-11.410285 14.628571 14.628571 0 0 1 10.898285-4.900572c1.316571 0 133.046857-0.877714 209.481143-12.653714 77.531429-11.922286 114.176-41.252571 114.907429-41.545143a14.628571 14.628571 0 0 1 9.289143-3.291429 14.628571 14.628571 0 0 1 7.314285 2.194286s40.886857 24.429714 129.097143 36.205714a435.712 435.712 0 0 0 56.393143 3.437715 714.313143 714.313143 0 0 0 143.506286-16.018286 13.531429 13.531429 0 0 1 3.364571 0 14.628571 14.628571 0 0 1 7.314286 27.428571L699.026286 351.085714l11.410285 88.429715a14.628571 14.628571 0 0 1-14.628571 16.457142 14.628571 14.628571 0 0 1-9.289143-3.291428L574.464 360.667429l-61.878857 140.946285a14.628571 14.628571 0 0 1-13.385143 8.704z"
                                    fill="#78A74C"></path>
                                <path
                                    d="M498.980571 233.033143s41.618286 25.819429 134.875429 38.253714a444.342857 444.342857 0 0 0 58.514286 3.584 725.430857 725.430857 0 0 0 146.944-16.384L683.227429 342.966857l12.726857 98.304-127.122286-104.155428-69.632 158.573714-44.690286-129.609143-120.758857 63.634286 44.470857-98.377143c0-1.389714-213.869714-40.228571-212.114285-40.813714 0 0 133.193143-0.731429 211.602285-12.8 83.382857-12.873143 121.636571-44.690286 121.636572-44.690286m0-29.257143a29.257143 29.257143 0 0 0-18.578286 6.656c-1.097143 0.877714-35.474286 27.355429-107.52 38.4-75.337143 11.629714-205.970286 12.507429-207.286857 12.507429a27.794286 27.794286 0 0 0-11.410286 2.413714 29.257143 29.257143 0 0 0-17.554286 30.061714c2.413714 21.430857 21.942857 25.380571 30.427429 26.989714 4.534857 0.950857 11.044571 2.194286 19.017143 3.657143l59.977143 11.264c29.257143 5.412571 64.804571 12.068571 90.477714 16.969143L307.2 417.645714a29.257143 29.257143 0 0 0 40.301714 37.961143l90.550857-47.762286 33.572572 97.426286a29.257143 29.257143 0 0 0 26.404571 19.675429h1.243429a29.257143 29.257143 0 0 0 26.770286-17.481143l54.125714-123.245714 97.28 79.725714a29.257143 29.257143 0 0 0 47.542857-26.404572l-10.166857-78.482285 138.166857-74.898286a29.257143 29.257143 0 0 0-13.970286-54.930286 30.573714 30.573714 0 0 0-6.729143 0.731429 700.196571 700.196571 0 0 1-140.214857 15.652571 416.914286 416.914286 0 0 1-54.345143-3.291428c-84.333714-11.264-123.172571-34.084571-123.538285-34.304a28.598857 28.598857 0 0 0-15.213715-4.315429z"
                                    fill="#333333"></path>
                                <path
                                    d="M504.685714 319.780571a29.257143 29.257143 0 0 1-28.672-23.552c-0.877714-4.388571-21.430857-109.714286 17.334857-173.421714 21.942857-35.547429 48.274286-46.811429 66.852572-50.029714 19.821714-3.364571 51.2-1.170286 87.771428 28.598857a29.257143 29.257143 0 1 1-37.010285 45.348571c-15.213714-12.361143-29.622857-18.139429-40.667429-16.237714-9.581714 1.609143-18.651429 9.289143-26.843428 22.747429-19.894857 32.694857-16.603429 98.011429-9.947429 131.657143a29.257143 29.257143 0 0 1-22.893714 34.450285 26.258286 26.258286 0 0 1-5.924572 0.438857z"
                                    fill="#333333"></path>
                                <path
                                    d="M362.642286 607.597714a36.571429 36.571429 0 0 1 8.630857 51.2 36.571429 36.571429 0 0 1-65.828572-15.067428 36.571429 36.571429 0 0 1 57.270858-35.913143M385.755429 699.757714a21.942857 21.942857 0 1 1-16.384-3.730285 21.942857 21.942857 0 0 1 16.384 3.730285"
                                    fill="#F8FFE6"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="post-recommend-container">
                        <div class="post-big" v-for="(article, index) in recommendArticles.slice(0, 1)" :key="index">
                            <div style="cursor: pointer" @click="router.push({ path: `/article/${article.id}` })">
                                <div class="space-post-image">
                                    <div class="img-outer">
                                        <el-image class="my-el-image img-inner" v-once lazy :src="article.articleCover"
                                            fit="cover">
                                            <template v-slot:error>
                                                <div class="image-slot myCenter"
                                                    style="background-color: var(--lightGreen)">
                                                    <div class="error-text">
                                                        <div>遇事不决，可问春风</div>
                                                    </div>
                                                </div>
                                            </template>
                                        </el-image>
                                    </div>
                                    <div class="hasVideo transformCenter" v-if="article.hasVideo">
                                        <svg viewBox="0 0 1024 1024" width="40" height="40">
                                            <path
                                                d="M514 114.3c-219.9 0-398.9 178.9-398.9 398.9 0.1 219.9 179 398.8 398.9 398.8 219.9 0 398.8-178.9 398.8-398.8S733.9 114.3 514 114.3z m173 421.9L437.1 680.5c-17.7 10.2-39.8-2.6-39.8-23V368.9c0-20.4 22.1-33.2 39.8-23L687 490.2c17.7 10.2 17.7 35.8 0 46z"
                                                fill="#0C0C0C"></path>
                                        </svg>
                                    </div>
                                    <div class="post-meta">
                                        <span>
                                            <!-- 播放 -->
                                            <svg viewBox="0 0 1024 1024" width="14" height="14"
                                                style="vertical-align: -2.5px">
                                                <path
                                                    d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                    fill="#ffffff"></path>
                                                <path
                                                    d="M684.8 483.2l-256-112c-22.4-9.6-44.8 6.4-44.8 28.8v224c0 22.4 22.4 38.4 44.8 28.8l256-112c25.6-9.6 25.6-48 0-57.6z"
                                                    fill="#ffffff"></path>
                                            </svg>
                                            <span class="post-num">{{ article.viewCount }}</span>
                                        </span>
                                        <!-- 留言 -->
                                        <span class="post-play">
                                            <svg viewBox="0 0 1024 1024" width="14" height="14"
                                                style="vertical-align: -2.5px">
                                                <path
                                                    d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                    fill="#ffffff"></path>
                                                <path
                                                    d="M240 384h64v64h-64zM368 384h384v64h-384zM432 576h352v64h-352zM304 576h64v64h-64z"
                                                    fill="#ffffff"></path>
                                            </svg>
                                            <span class="post-num">{{ article.commentCount }}</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="space-post-title">
                                    {{ article.articleTitle }}
                                </div>
                                <div class="space-post-info">
                                    <span>
                                        <svg viewBox="0 0 24 24" width="18" height="18" style="vertical-align: -5.5px">
                                            <path
                                                d="M6.15 8.24805C6.5642 8.24805 6.9 8.58383 6.9 8.99805L6.9 12.7741C6.9 13.5881 7.55988 14.248 8.3739 14.248C9.18791 14.248 9.8478 13.5881 9.8478 12.7741L9.8478 8.99805C9.8478 8.58383 10.1836 8.24805 10.5978 8.24805C11.012 8.24805 11.3478 8.58383 11.3478 8.99805L11.3478 12.7741C11.3478 14.41655 10.01635 15.748 8.3739 15.748C6.73146 15.748 5.4 14.41655 5.4 12.7741L5.4 8.99805C5.4 8.58383 5.73578 8.24805 6.15 8.24805z"
                                                fill="currentColor"></path>
                                            <path
                                                d="M12.6522 8.99805C12.6522 8.58383 12.98795 8.24805 13.4022 8.24805L15.725 8.24805C17.31285 8.24805 18.6 9.53522 18.6 11.123C18.6 12.71085 17.31285 13.998 15.725 13.998L14.1522 13.998L14.1522 14.998C14.1522 15.4122 13.8164 15.748 13.4022 15.748C12.98795 15.748 12.6522 15.4122 12.6522 14.998L12.6522 8.99805zM14.1522 12.498L15.725 12.498C16.4844 12.498 17.1 11.8824 17.1 11.123C17.1 10.36365 16.4844 9.74804 15.725 9.74804L14.1522 9.74804L14.1522 12.498z"
                                                fill="currentColor"></path>
                                            <path
                                                d="M12 4.99805C9.48178 4.99805 7.283 5.12616 5.73089 5.25202C4.65221 5.33949 3.81611 6.16352 3.72 7.23254C3.60607 8.4998 3.5 10.171 3.5 11.998C3.5 13.8251 3.60607 15.4963 3.72 16.76355C3.81611 17.83255 4.65221 18.6566 5.73089 18.7441C7.283 18.8699 9.48178 18.998 12 18.998C14.5185 18.998 16.7174 18.8699 18.2696 18.74405C19.3481 18.65655 20.184 17.8328 20.2801 16.76405C20.394 15.4973 20.5 13.82645 20.5 11.998C20.5 10.16965 20.394 8.49877 20.2801 7.23205C20.184 6.1633 19.3481 5.33952 18.2696 5.25205C16.7174 5.12618 14.5185 4.99805 12 4.99805zM5.60965 3.75693C7.19232 3.62859 9.43258 3.49805 12 3.49805C14.5677 3.49805 16.8081 3.62861 18.3908 3.75696C20.1881 3.90272 21.6118 5.29278 21.7741 7.09773C21.8909 8.3969 22 10.11405 22 11.998C22 13.88205 21.8909 15.5992 21.7741 16.8984C21.6118 18.7033 20.1881 20.09335 18.3908 20.23915C16.8081 20.3675 14.5677 20.498 12 20.498C9.43258 20.498 7.19232 20.3675 5.60965 20.2392C3.81206 20.0934 2.38831 18.70295 2.22603 16.8979C2.10918 15.5982 2 13.8808 2 11.998C2 10.1153 2.10918 8.39787 2.22603 7.09823C2.38831 5.29312 3.81206 3.90269 5.60965 3.75693z"
                                                fill="currentColor"></path>
                                        </svg>
                                    </span>
                                    <span>{{ article.username }}</span><span>·</span><span>{{ article.createTime
                                        }}</span>
                                </div>
                            </div>
                        </div>
                        <div class="post-recommend-container recommend-small">
                            <div class="space-recommend-post" v-for="(article, index) in recommendArticles.slice(
                                1,
                                smallLength + 1
                            )" :key="index">
                                <div style="cursor: pointer" @click="router.push({ path: `/article/${article.id}` })">
                                    <div class="space-post-image">
                                        <div class="img-outer">
                                            <el-image class="my-el-image img-inner" v-once lazy
                                                :src="article.articleCover" fit="cover">
                                                <template v-slot:error>
                                                    <div class="image-slot myCenter"
                                                        style="background-color: var(--lightGreen)">
                                                        <div class="error-text">
                                                            <div>遇事不决，可问春风</div>
                                                        </div>
                                                    </div>
                                                </template>
                                            </el-image>
                                        </div>
                                        <div class="hasVideo transformCenter" v-if="article.hasVideo">
                                            <svg viewBox="0 0 1024 1024" width="40" height="40">
                                                <path
                                                    d="M514 114.3c-219.9 0-398.9 178.9-398.9 398.9 0.1 219.9 179 398.8 398.9 398.8 219.9 0 398.8-178.9 398.8-398.8S733.9 114.3 514 114.3z m173 421.9L437.1 680.5c-17.7 10.2-39.8-2.6-39.8-23V368.9c0-20.4 22.1-33.2 39.8-23L687 490.2c17.7 10.2 17.7 35.8 0 46z"
                                                    fill="#0C0C0C"></path>
                                            </svg>
                                        </div>
                                        <div class="post-meta">
                                            <span>
                                                <svg viewBox="0 0 1024 1024" width="14" height="14"
                                                    style="vertical-align: -2.5px">
                                                    <path
                                                        d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                        fill="#ffffff"></path>
                                                    <path
                                                        d="M684.8 483.2l-256-112c-22.4-9.6-44.8 6.4-44.8 28.8v224c0 22.4 22.4 38.4 44.8 28.8l256-112c25.6-9.6 25.6-48 0-57.6z"
                                                        fill="#ffffff"></path>
                                                </svg>
                                                <span class="post-num">{{ article.viewCount }}</span>
                                            </span>
                                            <span class="post-play">
                                                <svg viewBox="0 0 1024 1024" width="14" height="14"
                                                    style="vertical-align: -2.5px">
                                                    <path
                                                        d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                        fill="#ffffff"></path>
                                                    <path
                                                        d="M240 384h64v64h-64zM368 384h384v64h-384zM432 576h352v64h-352zM304 576h64v64h-64z"
                                                        fill="#ffffff"></path>
                                                </svg>
                                                <span class="post-num">{{ article.commentCount }}</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="space-post-title">
                                        {{ article.articleTitle }}
                                    </div>
                                    <div class="space-post-info">
                                        <span>
                                            <svg viewBox="0 0 24 24" width="18" height="18"
                                                style="vertical-align: -5.5px">
                                                <path
                                                    d="M6.15 8.24805C6.5642 8.24805 6.9 8.58383 6.9 8.99805L6.9 12.7741C6.9 13.5881 7.55988 14.248 8.3739 14.248C9.18791 14.248 9.8478 13.5881 9.8478 12.7741L9.8478 8.99805C9.8478 8.58383 10.1836 8.24805 10.5978 8.24805C11.012 8.24805 11.3478 8.58383 11.3478 8.99805L11.3478 12.7741C11.3478 14.41655 10.01635 15.748 8.3739 15.748C6.73146 15.748 5.4 14.41655 5.4 12.7741L5.4 8.99805C5.4 8.58383 5.73578 8.24805 6.15 8.24805z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M12.6522 8.99805C12.6522 8.58383 12.98795 8.24805 13.4022 8.24805L15.725 8.24805C17.31285 8.24805 18.6 9.53522 18.6 11.123C18.6 12.71085 17.31285 13.998 15.725 13.998L14.1522 13.998L14.1522 14.998C14.1522 15.4122 13.8164 15.748 13.4022 15.748C12.98795 15.748 12.6522 15.4122 12.6522 14.998L12.6522 8.99805zM14.1522 12.498L15.725 12.498C16.4844 12.498 17.1 11.8824 17.1 11.123C17.1 10.36365 16.4844 9.74804 15.725 9.74804L14.1522 9.74804L14.1522 12.498z"
                                                    fill="currentColor"></path>
                                                <path
                                                    d="M12 4.99805C9.48178 4.99805 7.283 5.12616 5.73089 5.25202C4.65221 5.33949 3.81611 6.16352 3.72 7.23254C3.60607 8.4998 3.5 10.171 3.5 11.998C3.5 13.8251 3.60607 15.4963 3.72 16.76355C3.81611 17.83255 4.65221 18.6566 5.73089 18.7441C7.283 18.8699 9.48178 18.998 12 18.998C14.5185 18.998 16.7174 18.8699 18.2696 18.74405C19.3481 18.65655 20.184 17.8328 20.2801 16.76405C20.394 15.4973 20.5 13.82645 20.5 11.998C20.5 10.16965 20.394 8.49877 20.2801 7.23205C20.184 6.1633 19.3481 5.33952 18.2696 5.25205C16.7174 5.12618 14.5185 4.99805 12 4.99805zM5.60965 3.75693C7.19232 3.62859 9.43258 3.49805 12 3.49805C14.5677 3.49805 16.8081 3.62861 18.3908 3.75696C20.1881 3.90272 21.6118 5.29278 21.7741 7.09773C21.8909 8.3969 22 10.11405 22 11.998C22 13.88205 21.8909 15.5992 21.7741 16.8984C21.6118 18.7033 20.1881 20.09335 18.3908 20.23915C16.8081 20.3675 14.5677 20.498 12 20.498C9.43258 20.498 7.19232 20.3675 5.60965 20.2392C3.81206 20.0934 2.38831 18.70295 2.22603 16.8979C2.10918 15.5982 2 13.8808 2 11.998C2 10.1153 2.10918 8.39787 2.22603 7.09823C2.38831 5.29312 3.81206 3.90269 5.60965 3.75693z"
                                                    fill="currentColor"></path>
                                            </svg>
                                        </span>
                                        <span>{{ article.username }}</span><span>·</span><span>{{ article.createTime
                                            }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 根据页面调整来改变是否展示 -->
                    <div v-show="smallLength != 3 || recommendArticles.length > 3" class="post-recommend-container">
                        <div class="space-post" v-for="(article, index) in recommendArticles.slice(
                            smallLength + 1,
                            recommendArticles.length
                        )" :key="index">
                            <div style="cursor: pointer" @click="router.push({ path: `/article/${article.id}` })">
                                <div class="space-post-image">
                                    <div class="img-outer">
                                        <el-image class="my-el-image img-inner" v-once lazy :src="article.articleCover"
                                            fit="cover">
                                            <template v-slot:error>
                                                <div class="image-slot myCenter"
                                                    style="background-color: var(--lightGreen)">
                                                    <div class="error-text">
                                                        <div>遇事不决，可问春风</div>
                                                    </div>
                                                </div>
                                            </template>
                                        </el-image>
                                    </div>
                                    <div class="post-meta">
                                        <span><svg viewBox="0 0 1024 1024" width="14" height="14"
                                                style="vertical-align: -2.5px">
                                                <path
                                                    d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                    fill="#ffffff"></path>
                                                <path
                                                    d="M684.8 483.2l-256-112c-22.4-9.6-44.8 6.4-44.8 28.8v224c0 22.4 22.4 38.4 44.8 28.8l256-112c25.6-9.6 25.6-48 0-57.6z"
                                                    fill="#ffffff"></path>
                                            </svg><span class="post-num">{{
                                                article.viewCount
                                                }}</span></span><span class="post-play"><svg viewBox="0 0 1024 1024"
                                                width="14" height="14" style="vertical-align: -2.5px">
                                                <path
                                                    d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                    fill="#ffffff"></path>
                                                <path
                                                    d="M240 384h64v64h-64zM368 384h384v64h-384zM432 576h352v64h-352zM304 576h64v64h-64z"
                                                    fill="#ffffff"></path>
                                            </svg><span class="post-num">{{
                                                article.commentCount
                                                }}</span></span>
                                    </div>
                                </div>
                                <div class="space-post-title">
                                    {{ article.articleTitle }}
                                </div>
                                <div class="space-post-info">
                                    <span><svg viewBox="0 0 24 24" width="18" height="18"
                                            style="vertical-align: -5.5px">
                                            <path
                                                d="M6.15 8.24805C6.5642 8.24805 6.9 8.58383 6.9 8.99805L6.9 12.7741C6.9 13.5881 7.55988 14.248 8.3739 14.248C9.18791 14.248 9.8478 13.5881 9.8478 12.7741L9.8478 8.99805C9.8478 8.58383 10.1836 8.24805 10.5978 8.24805C11.012 8.24805 11.3478 8.58383 11.3478 8.99805L11.3478 12.7741C11.3478 14.41655 10.01635 15.748 8.3739 15.748C6.73146 15.748 5.4 14.41655 5.4 12.7741L5.4 8.99805C5.4 8.58383 5.73578 8.24805 6.15 8.24805z"
                                                fill="currentColor"></path>
                                            <path
                                                d="M12.6522 8.99805C12.6522 8.58383 12.98795 8.24805 13.4022 8.24805L15.725 8.24805C17.31285 8.24805 18.6 9.53522 18.6 11.123C18.6 12.71085 17.31285 13.998 15.725 13.998L14.1522 13.998L14.1522 14.998C14.1522 15.4122 13.8164 15.748 13.4022 15.748C12.98795 15.748 12.6522 15.4122 12.6522 14.998L12.6522 8.99805zM14.1522 12.498L15.725 12.498C16.4844 12.498 17.1 11.8824 17.1 11.123C17.1 10.36365 16.4844 9.74804 15.725 9.74804L14.1522 9.74804L14.1522 12.498z"
                                                fill="currentColor"></path>
                                            <path
                                                d="M12 4.99805C9.48178 4.99805 7.283 5.12616 5.73089 5.25202C4.65221 5.33949 3.81611 6.16352 3.72 7.23254C3.60607 8.4998 3.5 10.171 3.5 11.998C3.5 13.8251 3.60607 15.4963 3.72 16.76355C3.81611 17.83255 4.65221 18.6566 5.73089 18.7441C7.283 18.8699 9.48178 18.998 12 18.998C14.5185 18.998 16.7174 18.8699 18.2696 18.74405C19.3481 18.65655 20.184 17.8328 20.2801 16.76405C20.394 15.4973 20.5 13.82645 20.5 11.998C20.5 10.16965 20.394 8.49877 20.2801 7.23205C20.184 6.1633 19.3481 5.33952 18.2696 5.25205C16.7174 5.12618 14.5185 4.99805 12 4.99805zM5.60965 3.75693C7.19232 3.62859 9.43258 3.49805 12 3.49805C14.5677 3.49805 16.8081 3.62861 18.3908 3.75696C20.1881 3.90272 21.6118 5.29278 21.7741 7.09773C21.8909 8.3969 22 10.11405 22 11.998C22 13.88205 21.8909 15.5992 21.7741 16.8984C21.6118 18.7033 20.1881 20.09335 18.3908 20.23915C16.8081 20.3675 14.5677 20.498 12 20.498C9.43258 20.498 7.19232 20.3675 5.60965 20.2392C3.81206 20.0934 2.38831 18.70295 2.22603 16.8979C2.10918 15.5982 2 13.8808 2 11.998C2 10.1153 2.10918 8.39787 2.22603 7.09823C2.38831 5.29312 3.81206 3.90269 5.60965 3.75693z"
                                                fill="currentColor"></path>
                                        </svg></span><span>{{ article.username }}</span><span>·</span><span>{{
                                            article.createTime
                                        }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="my-animation-hideToShow post-search">
                    <div class="sort-article-first">
                        <div>
                            <svg viewBox="0 0 1024 1024" width="20" height="20"
                                style="vertical-align: -2px; margin-bottom: -2px">
                                <path
                                    d="M367.36 482.304H195.9936c-63.3344 0-114.6368-51.3536-114.6368-114.6368V196.2496c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368V367.616c0 63.3344-51.3536 114.688-114.688 114.688zM367.36 938.752H195.9936c-63.3344 0-114.6368-51.3536-114.6368-114.6368v-171.4176c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368v171.4176c0 63.3344-51.3536 114.6368-114.688 114.6368zM828.672 938.752h-171.4176c-63.3344 0-114.6368-51.3536-114.6368-114.6368v-171.4176c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368v171.4176c0 63.3344-51.3024 114.6368-114.6368 114.6368zM828.672 482.304h-171.4176c-63.3344 0-114.6368-51.3536-114.6368-114.6368V196.2496c0-63.3344 51.3536-114.6368 114.6368-114.6368h171.4176c63.3344 0 114.6368 51.3536 114.6368 114.6368V367.616c0 63.3344-51.3024 114.688-114.6368 114.688z"
                                    fill="#FF623E"></path>
                            </svg>
                            {{ !common.isEmpty(sort.sortName) ? sort.sortName : '最新文章' }}
                        </div>
                        <div>
                            <svg viewBox="0 0 1024 1024" width="20" height="20">
                                <path
                                    d="M144.676571 607.963429a367.323429 332.068571 0 1 0 734.646858 0 367.323429 332.068571 0 1 0-734.646858 0Z"
                                    fill="#E3661C"></path>
                                <path
                                    d="M512 290.523429c194.779429 0 352.694857 142.116571 352.694857 317.44S706.779429 925.330286 512 925.330286s-352.694857-142.116571-352.694857-317.366857S317.220571 290.523429 512 290.523429m0-29.257143c-210.578286 0-381.952 155.501714-381.952 346.697143S301.421714 954.587429 512 954.587429s381.952-155.501714 381.952-346.624S722.578286 261.266286 512 261.266286z"
                                    fill="#333333"></path>
                                <path
                                    d="M512 290.523429a384.877714 384.877714 0 0 0-146.285714 28.672 297.106286 297.106286 0 0 0-77.897143 198.948571c0 175.542857 157.842286 317.44 352.621714 317.44a384.585143 384.585143 0 0 0 146.285714-28.672 297.325714 297.325714 0 0 0 77.970286-198.948571c0-175.323429-157.915429-317.44-352.694857-317.44z"
                                    fill="#F7873C"></path>
                                <path
                                    d="M498.541714 510.317714a14.628571 14.628571 0 0 1-13.165714-9.874285L446.171429 386.998857l-105.545143 55.661714a14.628571 14.628571 0 0 1-6.802286 1.682286 14.628571 14.628571 0 0 1-13.385143-20.626286l37.083429-81.92c-24.649143-4.827429-71.68-13.604571-108.690286-20.48l-59.977143-11.264-18.944-3.657142c-8.630857-1.682286-17.481143-3.437714-18.724571-14.189715a15.067429 15.067429 0 0 1 3.584-11.410285 14.628571 14.628571 0 0 1 10.898285-4.900572c1.316571 0 133.046857-0.877714 209.481143-12.653714 77.531429-11.922286 114.176-41.252571 114.907429-41.545143a14.628571 14.628571 0 0 1 9.289143-3.291429 14.628571 14.628571 0 0 1 7.314285 2.194286s40.886857 24.429714 129.097143 36.205714a435.712 435.712 0 0 0 56.393143 3.437715 714.313143 714.313143 0 0 0 143.506286-16.018286 13.531429 13.531429 0 0 1 3.364571 0 14.628571 14.628571 0 0 1 7.314286 27.428571L699.026286 351.085714l11.410285 88.429715a14.628571 14.628571 0 0 1-14.628571 16.457142 14.628571 14.628571 0 0 1-9.289143-3.291428L574.464 360.667429l-61.878857 140.946285a14.628571 14.628571 0 0 1-13.385143 8.704z"
                                    fill="#78A74C"></path>
                                <path
                                    d="M498.980571 233.033143s41.618286 25.819429 134.875429 38.253714a444.342857 444.342857 0 0 0 58.514286 3.584 725.430857 725.430857 0 0 0 146.944-16.384L683.227429 342.966857l12.726857 98.304-127.122286-104.155428-69.632 158.573714-44.690286-129.609143-120.758857 63.634286 44.470857-98.377143c0-1.389714-213.869714-40.228571-212.114285-40.813714 0 0 133.193143-0.731429 211.602285-12.8 83.382857-12.873143 121.636571-44.690286 121.636572-44.690286m0-29.257143a29.257143 29.257143 0 0 0-18.578286 6.656c-1.097143 0.877714-35.474286 27.355429-107.52 38.4-75.337143 11.629714-205.970286 12.507429-207.286857 12.507429a27.794286 27.794286 0 0 0-11.410286 2.413714 29.257143 29.257143 0 0 0-17.554286 30.061714c2.413714 21.430857 21.942857 25.380571 30.427429 26.989714 4.534857 0.950857 11.044571 2.194286 19.017143 3.657143l59.977143 11.264c29.257143 5.412571 64.804571 12.068571 90.477714 16.969143L307.2 417.645714a29.257143 29.257143 0 0 0 40.301714 37.961143l90.550857-47.762286 33.572572 97.426286a29.257143 29.257143 0 0 0 26.404571 19.675429h1.243429a29.257143 29.257143 0 0 0 26.770286-17.481143l54.125714-123.245714 97.28 79.725714a29.257143 29.257143 0 0 0 47.542857-26.404572l-10.166857-78.482285 138.166857-74.898286a29.257143 29.257143 0 0 0-13.970286-54.930286 30.573714 30.573714 0 0 0-6.729143 0.731429 700.196571 700.196571 0 0 1-140.214857 15.652571 416.914286 416.914286 0 0 1-54.345143-3.291428c-84.333714-11.264-123.172571-34.084571-123.538285-34.304a28.598857 28.598857 0 0 0-15.213715-4.315429z"
                                    fill="#333333"></path>
                                <path
                                    d="M504.685714 319.780571a29.257143 29.257143 0 0 1-28.672-23.552c-0.877714-4.388571-21.430857-109.714286 17.334857-173.421714 21.942857-35.547429 48.274286-46.811429 66.852572-50.029714 19.821714-3.364571 51.2-1.170286 87.771428 28.598857a29.257143 29.257143 0 1 1-37.010285 45.348571c-15.213714-12.361143-29.622857-18.139429-40.667429-16.237714-9.581714 1.609143-18.651429 9.289143-26.843428 22.747429-19.894857 32.694857-16.603429 98.011429-9.947429 131.657143a29.257143 29.257143 0 0 1-22.893714 34.450285 26.258286 26.258286 0 0 1-5.924572 0.438857z"
                                    fill="#333333"></path>
                                <path
                                    d="M362.642286 607.597714a36.571429 36.571429 0 0 1 8.630857 51.2 36.571429 36.571429 0 0 1-65.828572-15.067428 36.571429 36.571429 0 0 1 57.270858-35.913143M385.755429 699.757714a21.942857 21.942857 0 1 1-16.384-3.730285 21.942857 21.942857 0 0 1 16.384 3.730285"
                                    fill="#F8FFE6"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="post-recommend-container">
                        <div class="space-post" v-for="(article, index) in articles" :key="index">
                            <div style="cursor: pointer" @click="router.push({ path: `/article/${article.id}` })">
                                <div class="space-post-image">
                                    <div class="img-outer">
                                        <el-image class="my-el-image img-inner" lazy :src="article.articleCover"
                                            fit="cover">
                                            <template v-slot:error>
                                                <div class="image-slot myCenter"
                                                    style="background-color: var(--lightGreen)">
                                                    <div class="error-text">
                                                        <div>遇事不决，可问春风</div>
                                                    </div>
                                                </div>
                                            </template>
                                        </el-image>
                                    </div>
                                    <div class="hasVideo transformCenter" v-if="article.hasVideo">
                                        <svg viewBox="0 0 1024 1024" width="40" height="40">
                                            <path
                                                d="M514 114.3c-219.9 0-398.9 178.9-398.9 398.9 0.1 219.9 179 398.8 398.9 398.8 219.9 0 398.8-178.9 398.8-398.8S733.9 114.3 514 114.3z m173 421.9L437.1 680.5c-17.7 10.2-39.8-2.6-39.8-23V368.9c0-20.4 22.1-33.2 39.8-23L687 490.2c17.7 10.2 17.7 35.8 0 46z"
                                                fill="#0C0C0C"></path>
                                        </svg>
                                    </div>
                                    <div class="post-meta">
                                        <span><svg viewBox="0 0 1024 1024" width="14" height="14"
                                                style="vertical-align: -2.5px">
                                                <path
                                                    d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                    fill="#ffffff"></path>
                                                <path
                                                    d="M684.8 483.2l-256-112c-22.4-9.6-44.8 6.4-44.8 28.8v224c0 22.4 22.4 38.4 44.8 28.8l256-112c25.6-9.6 25.6-48 0-57.6z"
                                                    fill="#ffffff"></path>
                                            </svg><span class="post-num">{{
                                                article.viewCount
                                                }}</span></span><span class="post-play"><svg viewBox="0 0 1024 1024"
                                                width="14" height="14" style="vertical-align: -2.5px">
                                                <path
                                                    d="M800 128H224C134.4 128 64 198.4 64 288v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160z m96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z"
                                                    fill="#ffffff"></path>
                                                <path
                                                    d="M240 384h64v64h-64zM368 384h384v64h-384zM432 576h352v64h-352zM304 576h64v64h-64z"
                                                    fill="#ffffff"></path>
                                            </svg><span class="post-num">{{
                                                article.commentCount
                                                }}</span></span>
                                    </div>
                                </div>
                                <div class="space-post-title">
                                    {{ article.articleTitle }}
                                </div>
                                <div class="space-post-info">
                                    <span><svg viewBox="0 0 24 24" width="18" height="18"
                                            style="vertical-align: -5.5px">
                                            <path
                                                d="M6.15 8.24805C6.5642 8.24805 6.9 8.58383 6.9 8.99805L6.9 12.7741C6.9 13.5881 7.55988 14.248 8.3739 14.248C9.18791 14.248 9.8478 13.5881 9.8478 12.7741L9.8478 8.99805C9.8478 8.58383 10.1836 8.24805 10.5978 8.24805C11.012 8.24805 11.3478 8.58383 11.3478 8.99805L11.3478 12.7741C11.3478 14.41655 10.01635 15.748 8.3739 15.748C6.73146 15.748 5.4 14.41655 5.4 12.7741L5.4 8.99805C5.4 8.58383 5.73578 8.24805 6.15 8.24805z"
                                                fill="currentColor"></path>
                                            <path
                                                d="M12.6522 8.99805C12.6522 8.58383 12.98795 8.24805 13.4022 8.24805L15.725 8.24805C17.31285 8.24805 18.6 9.53522 18.6 11.123C18.6 12.71085 17.31285 13.998 15.725 13.998L14.1522 13.998L14.1522 14.998C14.1522 15.4122 13.8164 15.748 13.4022 15.748C12.98795 15.748 12.6522 15.4122 12.6522 14.998L12.6522 8.99805zM14.1522 12.498L15.725 12.498C16.4844 12.498 17.1 11.8824 17.1 11.123C17.1 10.36365 16.4844 9.74804 15.725 9.74804L14.1522 9.74804L14.1522 12.498z"
                                                fill="currentColor"></path>
                                            <path
                                                d="M12 4.99805C9.48178 4.99805 7.283 5.12616 5.73089 5.25202C4.65221 5.33949 3.81611 6.16352 3.72 7.23254C3.60607 8.4998 3.5 10.171 3.5 11.998C3.5 13.8251 3.60607 15.4963 3.72 16.76355C3.81611 17.83255 4.65221 18.6566 5.73089 18.7441C7.283 18.8699 9.48178 18.998 12 18.998C14.5185 18.998 16.7174 18.8699 18.2696 18.74405C19.3481 18.65655 20.184 17.8328 20.2801 16.76405C20.394 15.4973 20.5 13.82645 20.5 11.998C20.5 10.16965 20.394 8.49877 20.2801 7.23205C20.184 6.1633 19.3481 5.33952 18.2696 5.25205C16.7174 5.12618 14.5185 4.99805 12 4.99805zM5.60965 3.75693C7.19232 3.62859 9.43258 3.49805 12 3.49805C14.5677 3.49805 16.8081 3.62861 18.3908 3.75696C20.1881 3.90272 21.6118 5.29278 21.7741 7.09773C21.8909 8.3969 22 10.11405 22 11.998C22 13.88205 21.8909 15.5992 21.7741 16.8984C21.6118 18.7033 20.1881 20.09335 18.3908 20.23915C16.8081 20.3675 14.5677 20.498 12 20.498C9.43258 20.498 7.19232 20.3675 5.60965 20.2392C3.81206 20.0934 2.38831 18.70295 2.22603 16.8979C2.10918 15.5982 2 13.8808 2 11.998C2 10.1153 2.10918 8.39787 2.22603 7.09823C2.38831 5.29312 3.81206 3.90269 5.60965 3.75693z"
                                                fill="currentColor"></path>
                                        </svg></span><span>{{ article.username }}</span><span>·</span><span>{{
                                            article.createTime
                                        }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pagination-wrap">
                        <div class="pagination" v-if="pagination.size < pagination.total">
                            <el-pagination background layout="prev, pager, next" :total="pagination.total"
                                :page-size="pagination.size" :pager-count="7" @current-change="handlePageChange">
                            </el-pagination>
                        </div>
                        <div style="user-select: none" v-else>~~到底啦~~</div>
                    </div>
                </div>
            </div>

            <!-- 页脚 -->
            <div>
                <MyFooter></MyFooter>
            </div>
        </div>
    </div>
</template>

<script setup>
import { onUnmounted, reactive, watch, inject, toRefs, onMounted } from 'vue';
import MyFooter from '../components/common/MyFooter.vue';
import ProTag from '../components/common/ProTag.vue';
import { useStore } from 'vuex';
import { useRouter } from 'vue-router';
import { ElMessage } from 'element-plus';

// hooks
const common = inject("$common");
const constant = inject("$constant");
const http = inject("$http");

const store = useStore();
const router = useRouter();

const data = reactive({
    sortList: !common.isEmpty(store.state.sortInfo) ? store.state.sortInfo : [],
    pagination: {
        current: 1,
        size: 10,
        labelId: null,
        sortId: null,
        total: 0,
    },
    articleSearch: '',
    pageSize: 0,
    // 推荐文章
    recommendArticles: [],
    articles: [],
    // 页面宽度
    pageWidth: 0,
    // 跟在大图后面小图的数量
    smallLength: 3,
    sort: {},
    labels: [],
    isShowRecommend: false,
});

onMounted(() => {
    getRecommendArticles();
    window.addEventListener('resize', onPageWidth);
    getArticles();
})

onUnmounted(() => {
    window.removeEventListener('resize', onPageWidth);
});

watch(() => data.pageWidth, (newValue) => {
    // 500 显示 1个  750显示 2个   1000显示3个
    if (newValue <= 500) {
        data.smallLength = 0;
    } else if (newValue > 500 && newValue <= 750) {
        data.smallLength = 1;
    } else if (newValue > 750 && newValue <= 1000) {
        data.smallLength = 2;
    } else {
        data.smallLength = 3;
    }
});

const selectArticle = async () => {
    data.pagination.current = 1;
    data.pagination.size = 10;
    data.pagination.total = 0;
    data.pagination.sortId = null;
    data.pagination.labelId = null;
    data.pagination.articleSearch = data.articleSearch;
    data.sort = {};
    data.labels = [];
    data.isShowRecommend = true;
    await getArticles();
};

const getRecommendArticles = async () => {
    const pagination = {
        current: 1,
        size: 4,
        recommendStatus: true,
    };
    await http.post(constant.baseURL + '/article/listArticle', pagination)
        .then((res) => {
            if (!common.isEmpty(res.data)) {
                data.recommendArticles = res.data.records;
            }
        })
        .catch((error) => {
            ElMessage({
                message: error.message,
                type: 'error',
            });
        });
};

const getArticles = async () => {
    await http.post(constant.baseURL + '/article/listArticle', data.pagination)
        .then((res) => {
            if (!common.isEmpty(res.data)) {
                data.articles = res.data.records;
                data.pagination.total = res.data.total;
            }
        })
        .catch((error) => {
            ElMessage({
                message: error.message,
                type: 'error',
            });
        });
};

const onPageWidth = () => {
    data.pageWidth = window.innerWidth;
};

const handlePageChange = (currentPage) => {
    data.pagination.current = currentPage;
    getArticles();
};

const changeSort = (id) => {
    data.sort = data.sortList.find((sort) => sort.id === id);
    data.labels = data.sort.labels;
    data.pagination.labelId = null;
    data.pagination.sortId = id;
    data.isShowRecommend = true;
    getArticles();
};

const changeLabel = (id) => {
    data.pagination.labelId = id;
    getArticles();
};

const { sortList, pagination, articleSearch, pageSize, recommendArticles, articles, pageWidth, smallLength, sort, labels, isShowRecommend } = toRefs(data)

</script>

<style>
.space-post-image .el-image__inner {
    transition: all 1s;
}

.space-post-image .el-image__inner:hover {
    transform: scale(1.2);
}
</style>

<style scoped>
.background-image-index {
    width: 100%;
    height: 25vh;
    position: relative;
    z-index: 0;
}

.isActive {
    animation: scale 2.5s ease-in-out infinite;
}

.background-image-index:before {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.1);
    content: '';
    z-index: 1;
}

.background-image-index .transformCenter {
    z-index: 2;
}

.ais-SearchBox-input {
    margin-top: -2vh;
    padding: 0 14px;
    height: 40px;
    width: 250px;
    outline: 0;
    border: 2px solid var(--lightGreen);
    border-right: 0;
    border-radius: 40px 0 0 40px;
    color: var(--maxGreyFont);
    background: var(--white);
}

.ais-SearchBox-submit {
    margin-top: -2vh;
    height: 40px;
    width: 50px;
    border: 2px solid var(--lightGreen);
    border-left: 0;
    border-radius: 0 40px 40px 0;
    background: var(--white);
    cursor: pointer;
}

.space-sort {
    display: flex;
    flex-wrap: wrap;
    margin-top: -6vh;
}

.sort-item {
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    color: var(--black);
    font-weight: 700;
    background: hsla(0, 0%, 100%, 0.8);
    box-shadow: 0 0 10px hsla(0, 0%, 45.5%, 0.08);
    height: 80px;
    width: calc(25% - 20px);
    margin: 10px;
    display: flex;
    transition: all 0.3s;
}

.sort-item:hover {
    transform: translateY(-6px);
}

.sort-item-sub {
    position: relative;
    width: calc(100% - 60px);
    height: 100%;
}

.sort-name {
    font-weight: 700;
    font-size: 20px;
    margin-top: 5px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
}

.sort-name:after {
    top: 30px;
    width: 45px;
    left: 0;
    height: 2px;
    background: var(--azure);
    content: '';
    border-radius: 1px;
    position: absolute;
}

.space-label {
    padding: 5px 10px;
    display: flex;
    flex-wrap: wrap;
}

.isActive {
    -webkit-animation: scale 2.5s ease-in-out infinite;
    animation: scale 2.5s ease-in-out infinite;
}

.sort-article-first {
    margin: 40px 10px 20px;
    display: flex;
    justify-content: space-between;
    color: var(--greyFont);
    border-bottom: 1px dashed var(--lightGray);
    padding-bottom: 5px;
}

.post-recommend-container {
    display: flex;
    flex-wrap: wrap;
}

.post-big {
    width: calc(40% - 20px);
    margin: 10px;
}

.recommend-small {
    width: calc(60.60606% - 10px);
}

.space-recommend-post {
    width: calc(33.33333% - 20px);
    margin: 10px;
}

.space-post {
    width: calc(20% - 20px);
    margin: 10px;
}

.pagination-wrap {
    display: flex;
    justify-content: center;
    margin: 25px 0 30px;
}

.space-post-image {
    position: relative;
    border-radius: 6px;
    overflow: hidden;
    max-height: 250px;
}

.img-outer {
    position: relative;
    width: 100%;
    padding-top: 65%;
}

.img-inner {
    position: absolute;
    top: 0;
    left: 0;
}

.error-space-image {
    background: var(--themeBackground);
    width: 100%;
    height: 100%;
}

.hasVideo {
    padding: 2px 20px 0;
    background: var(--maxMaxWhiteMask);
    border-radius: 8px;
}

.space-post-title {
    color: var(--black);
    margin: 10px 0 0;
    line-height: 1.25;
    font-weight: 700;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
}

.space-post-info {
    height: 25px;
    line-height: 25px;
    color: #9499a0;
    font-size: 13px;
}

.space-post-info span:not(:last-child) {
    margin-right: 2px;
}

.post-meta {
    position: absolute;
    bottom: 3px;
    left: 12px;
    color: var(--white);
    font-size: 12px;
}

.post-play {
    margin-left: 8px;
}

.post-num {
    margin-left: 5px;
}

@media screen and (max-width: 1000px) {
    .post-big {
        width: calc(50% - 20px);
        margin: 10px;
    }

    .recommend-small {
        width: calc(50% - 10px);
    }

    .space-recommend-post {
        width: calc(50% - 20px);
    }

    .space-post {
        width: calc(25% - 20px);
    }
}

@media screen and (max-width: 850px) {
    .sort-item {
        width: calc(50% - 20px);
    }
}

@media screen and (max-width: 750px) {
    .post-big {
        width: calc(60.60606% - 20px);
        margin: 10px;
    }

    .recommend-small {
        width: calc(40% - 10px);
    }

    .space-recommend-post {
        width: calc(100% - 20px);
    }

    .space-post {
        width: calc(33.33333% - 20px);
    }
}

@media screen and (max-width: 500px) {
    .post-big {
        width: calc(100% - 20px);
    }

    .space-post {
        width: calc(50% - 20px);
    }
}
</style>
